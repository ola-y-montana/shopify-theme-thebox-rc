{%- if section.settings.cl_thebox_active -%}

<style>
  .grid--uniform.gu-cl-thebox.mobile {
      display: none;
	  margin: 0 16px 0 7px;
  }
  .pw-cl-thebox {
    padding-left: 1px;
    padding-right: 1px;
    max-width: 100%;
    margin-top: 40px !important;
  }
  .pw-cl-thebox .gi-cl-thebox {
    padding-left: 8px;
  }
  .pw-cl-thebox .collection-grid-item {
    margin-bottom: 10px;
  }
  .pw-cl-thebox .gu-cl-thebox{
    margin: 0 25px 0 17px;
  }
  .pw-cl-thebox .section-header {
    margin: 20px;
  }
  .pw-cl-thebox .section-header h2 {
    margin: 0;
    font-weight: bold;
  }
  .grid--uniform.gu-cl-thebox {
	 display: none;
  }
  .grid--uniform.gu-cl-thebox.mobile {
    display: block;
  }
  @media (min-width: 426px) {
    .grid--uniform.gu-cl-thebox {
      display: block;
    }
    .grid--uniform.gu-cl-thebox.mobile {
      display: none;
    }
  }
  @media (min-width: 768px) {
    .pw-cl-thebox .collection-grid-item {
  		height: 460px;
    	width: 874px;
        padding: 0;
		margin: auto;
      	margin-bottom: 0;
        text-align: center;
    }
  }
 
</style>

<div class="page-width pw-cl-thebox">
  {% if section.settings.title != blank %}
    <div class="section-header text-center">
      <h2>{{ section.settings.title | escape }}</h2>
    </div>
  {% endif %}

  {% assign grid = 2 %}
  {% case grid %}
    {% when 2 %}
      {%- assign grid_item_width = 'medium-up--one-half' -%}
    {% when 3 %}
      {%- assign grid_item_width = 'small--one-half medium-up--one-third' -%}
    {% when 4 %}
      {%- assign grid_item_width = 'small--one-half medium-up--one-quarter' -%}
    {% when 5 %}
      {%- assign grid_item_width = 'small--one-half medium-up--one-fifth' -%}
  {% endcase %}

  <div class="collection-grid">
    <ul class="grid grid--uniform gu-cl-thebox">
      {% for block in section.blocks limit: section.blocks.size %}
        <li class="grid__item gi-cl-thebox {{ grid_item_width }}" {{ block.shopify_attributes }}>
          {% assign category_image = block.settings.category_image | img_url: '1024x1024' %}
          {% include 'category-grid-item-thebox', category_image: block.settings.category_image , category_link: block.settings.category_link  %}
        </li>
      {% endfor %}
    </ul>
    <ul class="grid grid--uniform gu-cl-thebox mobile">
      {% for block in section.blocks limit: section.blocks.size %}
        <li class="grid__item gi-cl-thebox {{ grid_item_width }}" {{ block.shopify_attributes }}>
          {% assign category_image = block.settings.category_image_mobile | img_url: '1024x1024' %}
          {% include 'category-grid-item-thebox', category_image: block.settings.category_image_mobile , category_link: block.settings.category_link_mobile  %}
        </li>
      {% endfor %}
    </ul>
  </div>

  {% if section.blocks.size == 0 %}
    {% include 'no-blocks' %}
  {% endif %}
</div>

{%- endif -%}

{% schema %}
{
  "name": {
    "en": "Categories List TheBox",
    "es": "Lista de Categorías TheBox"
  },
  "class": "thebox-section categories-list-thebox",
  "max_blocks": 12,
  "settings": [
    {
      "type": "checkbox",
      "id": "cl_thebox_active",
      "label": {
        "en": "Active",
        "es": "Activo"
      },
      "default": true
    },
    {
      "type": "text",
      "id": "title",
      "label": {
        "en": "Heading",
        "es": "Título"
      },
      "default": {
        "en": "Categories List",
        "es": "Lista de Categorías"
      }
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": {
        "en": "Category",
        "es": "Categoria"
      },
      "settings": [
        {
          "type": "image_picker",
          "id": "category_image",
          "label": {
            "en": "Image Desktop",
            "es": "Imagen Desktop"
          }
        },
        {
          "type": "image_picker",
          "id": "category_image_mobile",
          "label": {
            "en": "Mobile Image",
            "es": "Imagen Mobile"
          }
        },
        {
          "type": "url",
          "id": "category_link",
          "label": {
            "en": "Desktop Link",
            "es": "Enlace Desktop"
          }
        },
        {
          "type": "url",
          "id": "category_link_mobile",
          "label": {
            "en": "Mobile Link",
            "es": "Enlace Mobile"
          }
        }
      ]
    }
  ],
  "presets": [
    {
      "name": {
        "en": "Categories List TheBox",
        "es": "Lista de Categorías TheBox"
      },
      "category": {
        "en": "TheBox Theme",
        "es": "TheBox Theme"
      },
      "blocks": [
        {
          "type": "image"
        },
        {
          "type": "image"
        },
        {
          "type": "image"
        },
        {
          "type": "image"
        }
      ]
    }
  ]
}
{% endschema %}
